<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2018 ABGF
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->

<openerp>
    <data>

        <!-- Ressarcimento de Contrato contract.ressarcimento -->

        <!--Visão Form -->
        <record id="hr_contract_ressarcimento_form_view" model="ir.ui.view">
            <field name="name">hr.contract.ressarcimento.form (in l10n_br_ressarcimento_account)</field>
            <field name="model">contract.ressarcimento</field>
            <field name="inherit_id" ref="l10n_br_ressarcimento.hr_contract_ressarcimento_form_view"/>
            <field name="arch" type="xml">
                <!-- Adiciona Roteiro contábil antes Rubricas de Ressarcimento -->
                <xpath expr="//field[@name='contract_ressarcimento_line_ids']" position="before">
                    <label for="account_event_template_id" string="Roteiro Contábil"/>
                    <field name="account_event_template_id"/>
                    <hr />
                </xpath>
                <!-- Adiciona Lançamentos feitos para esse ressarcimento após Rubricas de Ressarcimento -->
                <xpath expr="//field[@name='contract_ressarcimento_line_ids']" position="after">
                    <hr />
                    <label for="account_move_ids" attrs="{'invisible':[('account_move_ids', '=', [(6, False, [])])]}" string="Lançamentos Contábeis"/>
                    <field name="account_move_ids" attrs="{'invisible':[('account_move_ids', '=', [(6, False, [])])]}" readonly="1"/>
                </xpath>
                <!-- Adiciona Roteiro contábil antes Rubricas de Ressarcimento (PROVISIONADO) -->
                <xpath expr="//field[@name='contract_ressarcimento_provisionado_line_ids']" position="before">
                    <label for="account_event_template_provisao_id" string="Roteiro Contábil"/>
                    <field name="account_event_template_provisao_id"/>
                    <hr />
                </xpath>
                <!-- Adiciona Lançamentos feitos para esse ressarcimento após Rubricas de Ressarcimento (PROVISIONADO) -->
                <xpath expr="//field[@name='contract_ressarcimento_provisionado_line_ids']" position="after">
                    <hr />
                    <label for="account_move_provisao_ids" attrs="{'invisible':[('account_move_provisao_ids', '=', [(6, False, [])])]}" string="Lançamentos Contábeis"/>
                    <field name="account_move_provisao_ids" attrs="{'invisible':[('account_move_provisao_ids', '=', [(6, False, [])])]}" readonly="1"/>
                </xpath>
            </field>
        </record>

    </data>
</openerp>
