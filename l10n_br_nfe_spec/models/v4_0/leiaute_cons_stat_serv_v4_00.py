# Copyright 2022 Akretion - Raphaël Valyi <raphael.valyi@akretion.com>
# License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl-3.0.en.html).
# Generated by https://github.com/akretion/xsdata-odoo
#
import textwrap
from odoo import fields, models
from .tipos_basico_v4_00 import (
    TAMB,
    TCODUFIBGE,
)

__NAMESPACE__ = "http://www.portalfiscal.inf.br/nfe"

TCONSSTATSERV_XSERV = [
    ("STATUS", "STATUS"),
]


class TconsStatServ(models.AbstractModel):
    "Tipo Pedido de Consulta do Status do Serviço"
    _description = textwrap.dedent("    %s" % (__doc__,))
    _name = "nfe.40.tconsstatserv"
    _inherit = "spec.mixin.nfe"
    _binding_type = "TconsStatServ"

    nfe40_tpAmb = fields.Selection(
        TAMB,
        xsd_type="TAmb",
        xsd_required=True,
        string="Identificação do Ambiente",
        help="Identificação do Ambiente:\n1 - Produção\n2 - Homologação",
    )

    nfe40_cUF = fields.Selection(
        TCODUFIBGE,
        xsd_type="TCodUfIBGE",
        xsd_required=True,
        string="Sigla da UF consultada",
    )

    nfe40_xServ = fields.Selection(
        TCONSSTATSERV_XSERV, xsd_required=True, string="Serviço Solicitado"
    )

    nfe40_versao = fields.Char(
        xsd_type="TVerConsStatServ", xsd_required=True, string="versao"
    )


class TretConsStatServ(models.AbstractModel):
    "Tipo Resultado da Consulta do Status do Serviço"
    _description = textwrap.dedent("    %s" % (__doc__,))
    _name = "nfe.40.tretconsstatserv"
    _inherit = "spec.mixin.nfe"
    _binding_type = "TretConsStatServ"

    nfe40_tpAmb = fields.Selection(
        TAMB,
        xsd_type="TAmb",
        xsd_required=True,
        string="Identificação do Ambiente",
        help="Identificação do Ambiente:\n1 - Produção\n2 - Homologação",
    )

    nfe40_verAplic = fields.Char(
        xsd_type="TVerAplic",
        xsd_required=True,
        string="Versão do Aplicativo que processou a NF",
        help="Versão do Aplicativo que processou a NF-e",
    )

    nfe40_cStat = fields.Char(
        xsd_type="TStat",
        xsd_required=True,
        string="Código do status da mensagem enviada",
        help="Código do status da mensagem enviada.",
    )

    nfe40_xMotivo = fields.Char(
        xsd_type="TMotivo",
        xsd_required=True,
        string="Descrição literal do status do serviço solicitado",
        help="Descrição literal do status do serviço solicitado.",
    )

    nfe40_cUF = fields.Selection(
        TCODUFIBGE,
        xsd_type="TCodUfIBGE",
        xsd_required=True,
        string="Código da UF responsável pelo serviço",
    )

    nfe40_dhRecbto = fields.Char(
        xsd_type="TDateTimeUTC",
        xsd_required=True,
        string="Data e hora do recebimento da consulta no formato AAAA",
        help=(
            "Data e hora do recebimento da consulta no formato AAAA-MM-"
            "DDTHH:MM:SSTZD"
        ),
    )

    nfe40_tMed = fields.Char(
        xsd_type="TMed",
        string="Tempo médio de resposta do serviço",
        help=(
            "Tempo médio de resposta do serviço (em segundos) dos últimos 5 " "minutos"
        ),
    )

    nfe40_dhRetorno = fields.Char(
        xsd_type="TDateTimeUTC",
        string="AAAA",
        help=(
            "AAAA-MM-DDTHH:MM:SSDeve ser preenchida com data e hora previstas "
            "para o retorno dos serviços prestados."
        ),
    )

    nfe40_xObs = fields.Char(
        xsd_type="TMotivo",
        string="xObs",
        help=("Campo observação utilizado para incluir informações ao " "contribuinte"),
    )

    nfe40_versao = fields.Char(
        xsd_type="TVerConsStatServ", xsd_required=True, string="versao"
    )
