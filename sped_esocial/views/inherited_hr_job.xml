<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
    <data>

        <record model="ir.ui.view" id="sped_hr_job">
            <field name="name">Adiciona e-Social nas Funcoes</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="l10n_br_hr.view_l10n_br_hr_job_form" />
            <field name="arch" type="xml">
                <button name="set_recruit" position="after">
                     <button name="atualizar_cargo"
                             colspan="4" type="object"
                             string="Ativar/Atualizar Cargo" class="oe_highlight"
                             attrs="{'invisible': ['|', ('codigo', '=', False), ('sped_cargo_id', '!=', False)]}"
                     />
                </button>
                <group name="employee_data" position="after">
                    <notebook>
                        <page name="esocial" string="e-Social">
                            <group colspan="4" col="4">
                                <field name="codigo" required="1" />
                                <field name="cargo_publico"/>
                                <field name="ini_valid"
                                       options="{'no_create': True, 'no_open': True}"
                                       attrs="{'required': True}"
                                />
                                       <!--domain="[('date_start', '&gt;=', '2018-01-01')]"-->
                                <field name="fim_valid"
                                       options="{'no_create': True, 'no_open': True}"
                                />
                                       <!--domain="[('date_start', '&gt;=', '2018-01-01')]"-->
                                <field name="acum_cargo" colspan="4"
                                       attrs="{'required': [('cargo_publico', '=', True)], 'invisible': [('cargo_publico', '=', False)]}" />
                                <field name="contagem_esp" colspan="4"
                                       attrs="{'required': [('cargo_publico', '=', True)], 'invisible': [('cargo_publico', '=', False)]}" />
                                <field name="dedic_excl" colspan="4"
                                       attrs="{'required': [('cargo_publico', '=', True)], 'invisible': [('cargo_publico', '=', False)]}" />
                                <field name="nr_lei" colspan="4"
                                       attrs="{'required': [('cargo_publico', '=', True)], 'invisible': [('cargo_publico', '=', False)]}" />
                                <field name="dt_lei" colspan="4"
                                       attrs="{'required': [('cargo_publico', '=', True)], 'invisible': [('cargo_publico', '=', False)]}" />
                                <field name="sit_cargo" colspan="4"
                                       attrs="{'required': [('cargo_publico', '=', True)], 'invisible': [('cargo_publico', '=', False)]}" />
                                <field name="sped_cargo_id" invisible="1" />
                            </group>
                        </page>
                    </notebook>
                </group>
            </field>
        </record>

    </data>
</openerp>
