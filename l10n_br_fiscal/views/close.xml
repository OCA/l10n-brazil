<?xml version="1.0" encoding="utf-8"?>
<!--
    Copyright 2018 KMEE INFORMATICA LTDA
    License AGPL-3 or later (http://www.gnu.org/licenses/agpl)
-->
<odoo>
    <record id="close" model="ir.ui.view">
        <field name="name">close.form</field>
        <field name="model">close</field>
        <field name="arch" type="xml">
            <form string="Processamento Periodico">
                <field invisible="1" name="state"/>
                <group states="init">
                    <group>
                        <field name="export_type"/>
                        <field name="year" attrs="{'invisible': [('export_type', '=', 'all')]}"/>
                        <field name="month" attrs="{'invisible': [('export_type', '=', 'all')]}"/>
                    </group>
                    <group>
                        <field name="raiz" invisible="True"/>
                        <field name="pasta_individual" colspan="4" filename="name"/>
                    </group>
                </group>
                <group states="done">
                    <h1>XMLs files exported!</h1>
                    <group>
                        <field name="zip_file" colspan="4" filename="name"/>
                    </group >
                    <notebook colspan="4">
                        <page string="NFe">
                            <field name="document_nfe_id" readonly="1"/>
                        </page>
                        <page string="NFCe">
                            <field name="document_nfce_id" readonly="1"/>
                        </page>
                        <page string="CFe">
                            <field name="document_cfe_id" readonly="1"/>
                        </page>
                        <page string="CFe ECF">
                            <field name="document_cfeecf_id" readonly="1"/>
                        </page>
                        <page string="NFSe">
                            <field name="document_nfse_id" readonly="1"/>
                        </page>
                        <page string="RL">
                            <field name="document_rl_id" readonly="1"/>
                        </page>

                    </notebook>
                </group>
                <footer states="init">
                    <button string="Exportar" name="export" type="object" class="oe_highlight"/> ou
                    <button string="Cancel" special="cancel" type="object" class="oe_link"/>
                </footer>
                <footer states="done">
                    <button string="Done" name="done" type="object"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="close_tree" model="ir.ui.view">
        <field name="name">close.form</field>
        <field name="model">close</field>
        <field name="arch" type="xml">
            <tree>
                <field name="export_type"/>
                <field name="year"/>
                <field name="month"/>
            </tree>
        </field>
    </record>

    <record id="action_close" model="ir.actions.act_window">
        <field name="name">Exportar Notas Fiscais do periodo</field>
        <field name="res_model">close</field>
        <field name="view_mode">tree,form</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="close_tree"/>
        <field name="target">current</field>
    </record>



<!--    <record id="close_periodica" model="ir.cron">-->
<!--        <field name="name">Exportação periódica de XMLs</field>-->
<!--        <field name="active" eval="True"/>-->
<!--        <field name="user_id" ref="base.user_root"/>-->
<!--        <field name="interval_number">1</field>-->
<!--        <field name="interval_type">days</field>-->
<!--        <field name="numbercall">-1</field>-->
<!--        <field name="doall" eval="True"/>-->
<!--        <field name="model">close</field>-->
<!--        <field name="function" eval="'periodic_export'"/>-->
<!--        <field name="args" eval="'()'"/>-->
<!--    </record>-->
</odoo>
