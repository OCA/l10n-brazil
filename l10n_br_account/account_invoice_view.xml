<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
		<!--  
		<act_window
            domain="[('account_id', '=', active_id)]" 
            id="act_account_invoice_nfe_export"
            name="Exportar NFe"
            res_model="account.invoice.nfe_export"
	    	groups="base.group_extended"
            src_model="account.invoice"
            />
            
        <record id="action_account_invoice_nfe_export_form_view" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="stock.view_picking_in_form"/>
            <field name="act_window_id" ref="act_account_invoice_nfe_export"/>
        </record>
 		 -->           
 		
		<!-- Customer Invoice views -->
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form">
			<field name="name">l10n_br_account.invoice.form</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				 <notebook>
					<page position="inside" string="l10n br - NF">
						<separator colspan="4" string="Dados Adicionais da NF"/>
						<field colspan="4" on_change="onchange_cfop_id(cfop_id)" name="cfop_id" domain="[('type','=','output')]" required="1" />
                		<field colspan="4" name="nfe_access_key"/>
                		<field colspan="4" name="nfe_status"/>
                		<field name="nfe_export_date"/>
                		<field name="nfe_date" />
						<field name="fiscal_document_id" required="1" />
						<field name="document_serie_id" required="1" />
		        	</page>
				</notebook>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_tree">
			<field name="name">l10n_br_account.invoice.tree</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_tree"/>
			<field name="arch" type="xml">
				<field position="replace" name="number">
					<field name="internal_number"/>
			    </field>
			</field>
		</record>
 
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form1">
			<field name="name">l10n_br_account.invoice.form1</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				<field position="replace" name="fiscal_position">
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form2">
			<field name="name">l10n_br_account.invoice.form2</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				<field position="after" name="move_id">
					<field name="fiscal_operation_category_id" domain="[('use_invoice','=',True)]" required="1" />
					<field name="fiscal_operation_id" domain="[('type','=','output')]" required="1" />
					<field name="fiscal_position" domain="[('fiscal_operation_id','=',fiscal_operation_id)]" groups="base.group_extended,base.group_user" />
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form3">
			<field name="name">l10n_br_account.invoice.form3</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account_fiscal_position_rule.view_fiscal_position_rule_form1" />
			<field name="arch" type="xml">
				<field position="replace" name="partner_id">
					<field name="partner_id" on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id, fiscal_operation_category_id)" groups="base.group_user" />
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form4">
			<field name="name">l10n_br_account.invoice.form4</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account_fiscal_position_rule.view_fiscal_position_rule_form2" />
			<field name="arch" type="xml">
				<field position="replace" name="company_id">
                    <field name="company_id" on_change="onchange_company_id(company_id, partner_id, type, invoice_line, currency_id, address_invoice_id, fiscal_operation_category_id)" widget="selection" groups="base.group_multi_company"/>
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form5">
			<field name="name">l10n_br_account.invoice.form5</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form" />
			<field name="arch" type="xml">
				<button name="invoice_open" position="replace">
					<button name="invoice_open" states="sefaz_export,proforma2" string="Validate" icon="gtk-go-forward"/>
                    <button name="invoice_sefaz_export" states="draft" string="Confirmar" icon="gtk-go-forward"/>
                    <field invisible="True" name="fiscal_document_nfe" />
			    </button>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form6">
			<field name="name">l10n_br_account.invoice.form6</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form" />
			<field name="arch" type="xml">
				<button name="invoice_cancel" position="replace">
					<button name="invoice_cancel" states="draft,proforma2,sale,sefaz_export,sefaz_exception,open" string="Cancel" icon="gtk-cancel"/>
			    </button>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form7">
			<field name="name">l10n_br_account.invoice.form7</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				<field position="replace" name="number">
					<field name="internal_number" />
			    </field>
			</field>
		</record>
		
		<record id="view_l10n_br_account_invoice_filter" model="ir.ui.view">
			<field name="name">l10n_br_account.invoice.select</field>
	   		<field name="model">account.invoice</field>
	   		<field name="inherit_id" ref="account.view_account_invoice_filter"/>
	   		<field name="priority">32</field>
	   		<field name="arch" type="xml">
				<filter name="proforma" position="before">
					<filter icon="terp-check" string="Exportada Receita" domain="[('state','=','sefaz_export')]"/>
				</filter>
        	</field>
		</record>
		
		<!-- Vendor Invoice views -->
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form">
			<field name="name">l10n_br_account.invoice.supplier.form</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
				 <notebook>
					<page position="inside" string="l10n br - NF">
      					<separator colspan="4" string="Dados Adicionais da NF"/>
       					<field colspan="4" name="cfop_id" domain="[('type','=','input')]"/>
			            <field colspan="4" name="key_nfe_access"/>
						<field name="fiscal_document_id"/>
						<field name="vendor_number"/>
						<field name="vendor_serie"/>
			        	</page>
				</notebook>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form1">
			<field name="name">l10n_br_account.invoice.supplier.form1</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
				<field position="replace" name="fiscal_position">
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form2">
			<field name="name">l10n_br_account.invoice.supplier.form2</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
				<field position="after" name="move_id">
					<field name="fiscal_operation_category_id" domain="[('use_invoice','=',True)]" required="1" />
					<field name="fiscal_operation_id" domain="[('type','=','input')]" required="1" />
					<field name="fiscal_position" domain="[('fiscal_operation_id','=',fiscal_operation_id)]" groups="base.group_extended,base.group_user" />
			    </field>
			</field>
		</record>

		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form3" >
	   		<field name="name">l10n_br_account.invoice.supplier.form3</field>
      		<field name="model">account.invoice</field>
	   		<field name="inherit_id" ref="account.invoice_supplier_form"/>
	   		<field name="arch" type="xml">
	   			<field name="name" position="after">
					<field name="price_total" />
				</field>
       		</field>
   		</record>

		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form4">
			<field name="name">l10n_br_account.invoice.supplier.form4</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form" />
			<field name="arch" type="xml">
				<button name="invoice_open" position="replace">
					<button name="invoice_open" states="sefaz_export,proforma2" string="Validate" icon="gtk-go-forward"/>
                    <button name="invoice_sefaz_export" states="draft" string="Confirmar" icon="gtk-go-forward"/>
                    <field invisible="True" name="fiscal_document_nfe" />
			    </button>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form5">
			<field name="name">l10n_br_account.invoice.supplier.form5</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form" />
			<field name="arch" type="xml">
				<button name="invoice_cancel" position="replace">
					<button name="invoice_cancel" states="draft,proforma2,sale,sefaz_export,sefaz_exception,open" string="Cancel" icon="gtk-cancel"/>
			    </button>
			</field>
		</record>

		<!-- Invoice Line views -->
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_line_form">
			<field name="name">l10n_br_account.invoice.line.form</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="account.view_invoice_line_form"/>
			<field name="arch" type="xml">
				<field name="name" position="after">
					<field colspan="4" name="cfop_id" required="1" />
					<field name="price_total"/>
				</field>
			</field>
		</record>
 		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_line_form1">
			<field name="name">l10n_br_account.invoice.line.form1</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="account.view_invoice_line_form" />
			<field name="arch" type="xml">
				<field name="product_id" position="replace">
					<field name="product_id" on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.address_invoice_id, parent.currency_id, {'company_id': parent.company_id}, parent.cfop_id)" select="1"/>
				</field>
			</field>
		</record>

		<record model="ir.ui.view" id="view_l10n_br_account_invoice_line_tree">
			<field name="name">l10n_br_account.invoice.line.tree1</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="account.view_invoice_line_tree" />
			<field name="arch" type="xml">
				<field position="replace" name="price_subtotal">
                    <field name="price_total"/>
			    </field>
			</field>
		</record>

		<!-- 
		<record model="ir.ui.view" id="view_l10n_br_invoice_line_form2">
			<field name="name">l10n_br.invoice.line.form2</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="view_l10n_br_account_invoice_line_form" />
			<field name="arch" type="xml">
				<field position="after" name="cfop_id">
					<field name="price_total"/>
				</field>
			</field>
		</record>
		 -->
		
	</data>

</openerp>
