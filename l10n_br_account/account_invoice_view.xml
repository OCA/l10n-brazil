<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
	
		<!-- Customer Invoice views -->
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form">
			<field name="name">l10n_br_account.invoice.form</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				 <notebook>
					<page position="inside" string="l10n br - NF">
						<separator colspan="4" string="Dados Adicionais da NF"/>
						<field colspan="4" on_change="onchange_cfop_id(cfop_id)" name="cfop_id" domain="[('type','=','output')]"/>
                		<field colspan="4" name="access_key_nfe"/>
						<field name="fiscal_document_id"/>
						<field name="document_serie_id"/>
		        	</page>
				</notebook>
			</field>
		</record>
 
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form1">
			<field name="name">l10n_br_account.invoice.form1</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				<field position="replace" name="fiscal_position">
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form2">
			<field name="name">l10n_br_account.invoice.form2</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form"/>
			<field name="arch" type="xml">
				<field position="after" name="move_id">
					<field name="fiscal_operation_category_id" domain="[('use_invoice','=',True)]" required="1" />
					<field name="fiscal_operation_id" required="1" />
					<field name="fiscal_position" domain="[('fiscal_operation_id','=',fiscal_operation_id)]" groups="base.group_extended,base.group_user" />
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form3">
			<field name="name">l10n_br_account.invoice.form3</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account_fiscal_position_rule.view_fiscal_position_rule_form1" />
			<field name="arch" type="xml">
				<field position="replace" name="partner_id">
					<field name="partner_id" on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id, fiscal_operation_category_id)" groups="base.group_user" />
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form4">
			<field name="name">l10n_br_account.invoice.form4</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account_fiscal_position_rule.view_fiscal_position_rule_form2" />
			<field name="arch" type="xml">
				<field position="replace" name="company_id">
                    <field name="company_id" on_change="onchange_company_id(company_id, partner_id, type, invoice_line, currency_id, address_invoice_id, fiscal_operation_category_id)" widget="selection" groups="base.group_multi_company"/>
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_form5">
			<field name="name">l10n_br_account.invoice.form5</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_form" />
			<field name="arch" type="xml">
				<button name="invoice_open" position="replace">
					<button name="invoice_open" states="sefaz_out,proforma2" string="Validate" icon="gtk-go-forward"/>
                    <button name="sefaz_out" states="draft" string="Confirmar" icon="gtk-go-forward"/>
                    <field invisible="True" name="nfe" />
			    </button>
			</field>
		</record>
		
		<!-- Vendor Invoice views -->
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form">
			<field name="name">l10n_br_account.invoice.supplier.form</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
				 <notebook>
					<page position="inside" string="l10n br - NF">
      					<separator colspan="4" string="Dados Adicionais da NF"/>
       					<field colspan="4" name="cfop_id" domain="[('type','=','input')]"/>
			            <field colspan="4" name="access_key_nfe"/>
						<field name="fiscal_document_id"/>
						<field name="vendor_number"/>
						<field name="vendor_serie"/>
			        	</page>
				</notebook>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form1">
			<field name="name">l10n_br_account.invoice.supplier.form1</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
				<field position="replace" name="fiscal_position">
			    </field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form2">
			<field name="name">l10n_br_account.invoice.supplier.form2</field>
			<field name="model">account.invoice</field>
			<field name="inherit_id" ref="account.invoice_supplier_form"/>
			<field name="arch" type="xml">
				<field position="after" name="move_id">
					<field name="fiscal_operation_category_id" domain="[('use_invoice','=',True)]" required="1" />
					<field name="fiscal_operation_id" required="1" />
					<field name="fiscal_position" domain="[('fiscal_operation_id','=',fiscal_operation_id)]" groups="base.group_extended,base.group_user" />
			    </field>
			</field>
		</record>

		<record model="ir.ui.view" id="view_l10n_br_account_invoice_supplier_form3" >
	   		<field name="name">l10n_br_account.invoice.supplier.form3</field>
      		<field name="model">account.invoice</field>
	   		<field name="inherit_id" ref="account.invoice_supplier_form"/>
	   		<field name="arch" type="xml">
	   			<field name="name" position="after">
					<field name="price_total" />
				</field>
       		</field>
   		</record>

		<!-- Invoice Line views -->
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_line_form">
			<field name="name">l10n_br_account.invoice.line.form</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="account.view_invoice_line_form"/>
			<field name="arch" type="xml">
				<field name="name" position="after">
					<field colspan="4" name="cfop_id" />
					<field name="price_total"/>
				</field>
			</field>
		</record>
 		
		<record model="ir.ui.view" id="view_l10n_br_account_invoice_line_form1">
			<field name="name">l10n_br_account.invoice.line.form1</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="account.view_invoice_line_form" />
			<field name="arch" type="xml">
				<field name="product_id" position="replace">
					<field name="product_id" on_change="product_id_change(product_id, uos_id, quantity, name, parent.type, parent.partner_id, parent.fiscal_position, price_unit, parent.address_invoice_id, parent.currency_id, {'company_id': parent.company_id}, parent.cfop_id)" select="1"/>
				</field>
			</field>
		</record>

		<record model="ir.ui.view" id="view_l10n_br_account_invoice_line_tree">
			<field name="name">l10n_br_account.invoice.line.tree1</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="account.view_invoice_line_tree" />
			<field name="arch" type="xml">
				<field position="replace" name="price_subtotal">
                    <field name="price_total"/>
			    </field>
			</field>
		</record>

		<record model="ir.ui.view" id="view_l10n_br_invoice_line_form2">
			<field name="name">l10n_br.invoice.line.form2</field>
			<field name="model">account.invoice.line</field>
			<field name="inherit_id" ref="view_l10n_br_account_invoice_line_form" />
			<field name="arch" type="xml">
				<field position="after" name="cfop_id">
					<field name="price_total"/>
				</field>
			</field>
		</record>
	</data>

</openerp>
